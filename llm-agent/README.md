# AI Agent with Visual Workflow Editor

This project is a web application featuring an AI agent capable of handling conversational queries and executing tasks using a visual workflow editor. Users can interact with the agent via a chat interface and visually inspect, modify, and manage the agent's task execution plans (workflows).

## Features

* **Conversational Interface:** Chat with the AI agent for simple Q&A or to initiate tasks.
* **Tool Usage:** The agent can be configured (backend) to use various tools to accomplish tasks.
* **Visual Workflow Editor:**
    * View the workflow plan generated by the agent (or predefined).
    * Displayed using `@xyflow/react`.
    * Nodes represent tools or steps in the workflow.
    * Edit tool parameters directly within the nodes.
    * Modify connections (edges) between tools.
    * Save workflow changes.
* **Popup Workflow Viewer/Editor:** A modal dialog allows users to inspect and edit the current workflow without leaving the chat context.
* **Responsive Design:** Basic structure designed with responsiveness in mind using Tailwind CSS.

## Tech Stack (Frontend)

* **Framework:** Next.js 15 (App Router)
* **Language:** TypeScript
* **UI Components:** Shadcn/ui
* **Styling:** Tailwind CSS
* **Workflow Visualization/Editing:** @xyflow/react (React Flow)
* **Animation:** Framer Motion
* **Icons:** Lucide React

*(Note: Backend stack details like the specific LLM, agent framework (e.g., LangChain, Vercel AI SDK), tool definitions, and database are not covered in this frontend-focused README but should be added based on your implementation.)*

## Project Structure (Frontend Components)

.├── app/│   └── page.tsx              # Main chat interface page├── components/│   ├── ui/                   # Shadcn UI components (generated)│   ├── ToolNode.tsx          # Custom React Flow node for displaying/editing tools│   ├── WorkflowEditor.tsx    # React Flow canvas component (presentational)│   └── WorkflowPopup.tsx     # Modal dialog containing the WorkflowEditor└── types/└── index.ts              # Shared TypeScript type definitions (WorkflowData, ToolNodeData, etc.)
## Getting Started

### Prerequisites

* Node.js (Version >= 18.x recommended)
* npm or yarn or pnpm

### Installation

1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd <your-project-directory>
    ```

2.  **Install dependencies:**
    ```bash
    npm install
    # or
    yarn install
    # or
    pnpm install
    ```

3.  **Set up Shadcn/ui (if not already initialized):**
    Follow the Shadcn/ui CLI instructions if needed. Ensure you add the required components:
    ```bash
    npx shadcn-ui@latest add button input dialog scroll-area label card separator
    ```

### Running the Development Server

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
Open http://localhost:3000 with your browser to see the result.How It WorksChat Interaction (app/page.tsx): Handles user input and displays messages. Manages the overall state, including the latest workflow and popup visibility.Agent Simulation (in app/page.tsx): Currently simulates agent responses and workflow generation. Replace this with actual API calls to your backend agent.Workflow Popup (components/WorkflowPopup.tsx):Opens when triggered by buttons in the chat.Manages the state of the workflow being edited (editedNodes, editedEdges).Contains the WorkflowEditor.Handles saving changes or canceling edits.Uses Framer Motion for animations.Workflow Editor (components/WorkflowEditor.tsx):A presentational component that renders the React Flow canvas.Receives nodes, edges, and event handlers (onNodesChange, onEdgesChange, onConnect) as props from WorkflowPopup.Uses the custom ToolNode component.Custom Tool Node (components/ToolNode.tsx):Renders the visual representation of a tool/step.Displays tool name and parameters (inputs/outputs).Provides input fields for editing parameter values.Includes React Flow handles for connecting parameters.Calls back to WorkflowPopup when parameters are changed internally.Next Steps & Potential ImprovementsBackend Integration: Connect the frontend to a real backend AI agent.Implement API endpoints or Server Actions for chat and workflow updates.Use an LLM and potentially a framework like the Vercel AI SDK or LangChain.js.Define actual tools and their execution logic.Real-time Updates: Use WebSockets or Server-Sent Events (SSE) for real-time agent responses and workflow status updates.Advanced Node Editing: Allow changing the tool type within a node, adding/removing parameters dynamically.Workflow Persistence: Save and load user-defined or agent-generated workflows to/from a database.Error Handling: Implement robust error handling for API calls, tool execution, and workflow validation.Loading States: Add visual indicators while the agent is processing or tools are running.Authentication & Authorization: Secure the application if handling user-specific data or workflows.